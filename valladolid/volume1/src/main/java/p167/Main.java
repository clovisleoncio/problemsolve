package p167;

import java.util.Scanner;

public class Main {
	
	public static void main(String[] args) {
		
		Scanner scanner = new Scanner(System.in);
		
		Q167 q167 = new Q167();
		
		int numeroTabuleiros = scanner.nextInt();
		
		for (int i = 0; i < numeroTabuleiros; i++) {
			int[][] tabuleiro = leTabuleiro(scanner);
			int soma = q167.maiorValor(tabuleiro);
			System.out.println(String.format("%5d", soma));
		}
		
		scanner.close();
		
	}

	private static int[][] leTabuleiro(Scanner scanner) {
		int[][] tabuleiro = new int[8][8];
		for (int i = 0; i < 8; i++) {
			for (int j = 0; j < 8; j++) {
				tabuleiro[i][j] = scanner.nextInt();
			}
		}
		return tabuleiro;
	}

	public static class Q167 {
		
		private static final int[][][] solucoes = {
			{{0, 3}, {1, 6}, {2, 2}, {3, 7}, {4, 1}, {5, 4}, {6, 0}, {7, 5}, }, 
			{{0, 1}, {1, 3}, {2, 5}, {3, 7}, {4, 2}, {5, 0}, {6, 6}, {7, 4}, }, 
			{{0, 2}, {1, 7}, {2, 3}, {3, 6}, {4, 0}, {5, 5}, {6, 1}, {7, 4}, }, 
			{{0, 3}, {1, 1}, {2, 7}, {3, 5}, {4, 0}, {5, 2}, {6, 4}, {7, 6}, }, 
			{{0, 4}, {1, 1}, {2, 5}, {3, 0}, {4, 6}, {5, 3}, {6, 7}, {7, 2}, }, 
			{{0, 6}, {1, 4}, {2, 2}, {3, 0}, {4, 5}, {5, 7}, {6, 1}, {7, 3}, }, 
			{{0, 5}, {1, 0}, {2, 4}, {3, 1}, {4, 7}, {5, 2}, {6, 6}, {7, 3}, }, 
			{{0, 4}, {1, 6}, {2, 0}, {3, 2}, {4, 7}, {5, 5}, {6, 3}, {7, 1}, }, 
			{{0, 4}, {1, 1}, {2, 3}, {3, 6}, {4, 2}, {5, 7}, {6, 5}, {7, 0}, }, 
			{{0, 0}, {1, 6}, {2, 3}, {3, 5}, {4, 7}, {5, 1}, {6, 4}, {7, 2}, }, 
			{{0, 7}, {1, 2}, {2, 0}, {3, 5}, {4, 1}, {5, 4}, {6, 6}, {7, 3}, }, 
			{{0, 5}, {1, 3}, {2, 6}, {3, 0}, {4, 2}, {5, 4}, {6, 1}, {7, 7}, }, 
			{{0, 3}, {1, 6}, {2, 4}, {3, 1}, {4, 5}, {5, 0}, {6, 2}, {7, 7}, }, 
			{{0, 7}, {1, 1}, {2, 4}, {3, 2}, {4, 0}, {5, 6}, {6, 3}, {7, 5}, }, 
			{{0, 0}, {1, 5}, {2, 7}, {3, 2}, {4, 6}, {5, 3}, {6, 1}, {7, 4}, }, 
			{{0, 2}, {1, 4}, {2, 1}, {3, 7}, {4, 5}, {5, 3}, {6, 6}, {7, 0}, }, 
			{{0, 3}, {1, 1}, {2, 6}, {3, 2}, {4, 5}, {5, 7}, {6, 4}, {7, 0}, }, 
			{{0, 0}, {1, 6}, {2, 4}, {3, 7}, {4, 1}, {5, 3}, {6, 5}, {7, 2}, }, 
			{{0, 7}, {1, 3}, {2, 0}, {3, 2}, {4, 5}, {5, 1}, {6, 6}, {7, 4}, }, 
			{{0, 5}, {1, 2}, {2, 4}, {3, 6}, {4, 0}, {5, 3}, {6, 1}, {7, 7}, }, 
			{{0, 4}, {1, 6}, {2, 1}, {3, 5}, {4, 2}, {5, 0}, {6, 3}, {7, 7}, }, 
			{{0, 7}, {1, 1}, {2, 3}, {3, 0}, {4, 6}, {5, 4}, {6, 2}, {7, 5}, }, 
			{{0, 0}, {1, 4}, {2, 7}, {3, 5}, {4, 2}, {5, 6}, {6, 1}, {7, 3}, }, 
			{{0, 2}, {1, 5}, {2, 3}, {3, 1}, {4, 7}, {5, 4}, {6, 6}, {7, 0}, }, 
			{{0, 3}, {1, 5}, {2, 7}, {3, 2}, {4, 0}, {5, 6}, {6, 4}, {7, 1}, }, 
			{{0, 3}, {1, 0}, {2, 4}, {3, 7}, {4, 1}, {5, 6}, {6, 2}, {7, 5}, }, 
			{{0, 6}, {1, 3}, {2, 1}, {3, 7}, {4, 5}, {5, 0}, {6, 2}, {7, 4}, }, 
			{{0, 2}, {1, 5}, {2, 1}, {3, 6}, {4, 0}, {5, 3}, {6, 7}, {7, 4}, }, 
			{{0, 4}, {1, 2}, {2, 0}, {3, 5}, {4, 7}, {5, 1}, {6, 3}, {7, 6}, }, 
			{{0, 4}, {1, 7}, {2, 3}, {3, 0}, {4, 6}, {5, 1}, {6, 5}, {7, 2}, }, 
			{{0, 1}, {1, 4}, {2, 6}, {3, 0}, {4, 2}, {5, 7}, {6, 5}, {7, 3}, }, 
			{{0, 5}, {1, 2}, {2, 6}, {3, 1}, {4, 7}, {5, 4}, {6, 0}, {7, 3}, }, 
			{{0, 2}, {1, 5}, {2, 7}, {3, 0}, {4, 3}, {5, 6}, {6, 4}, {7, 1}, }, 
			{{0, 4}, {1, 0}, {2, 7}, {3, 3}, {4, 1}, {5, 6}, {6, 2}, {7, 5}, }, 
			{{0, 6}, {1, 3}, {2, 1}, {3, 4}, {4, 7}, {5, 0}, {6, 2}, {7, 5}, }, 
			{{0, 2}, {1, 5}, {2, 1}, {3, 6}, {4, 4}, {5, 0}, {6, 7}, {7, 3}, }, 
			{{0, 5}, {1, 2}, {2, 0}, {3, 7}, {4, 4}, {5, 1}, {6, 3}, {7, 6}, }, 
			{{0, 3}, {1, 7}, {2, 0}, {3, 4}, {4, 6}, {5, 1}, {6, 5}, {7, 2}, }, 
			{{0, 1}, {1, 4}, {2, 6}, {3, 3}, {4, 0}, {5, 7}, {6, 5}, {7, 2}, }, 
			{{0, 5}, {1, 2}, {2, 6}, {3, 1}, {4, 3}, {5, 7}, {6, 0}, {7, 4}, }, 
			{{0, 4}, {1, 2}, {2, 7}, {3, 3}, {4, 6}, {5, 0}, {6, 5}, {7, 1}, }, 
			{{0, 2}, {1, 0}, {2, 6}, {3, 4}, {4, 7}, {5, 1}, {6, 3}, {7, 5}, }, 
			{{0, 6}, {1, 2}, {2, 7}, {3, 1}, {4, 4}, {5, 0}, {6, 5}, {7, 3}, }, 
			{{0, 2}, {1, 4}, {2, 6}, {3, 0}, {4, 3}, {5, 1}, {6, 7}, {7, 5}, }, 
			{{0, 3}, {1, 5}, {2, 0}, {3, 4}, {4, 1}, {5, 7}, {6, 2}, {7, 6}, }, 
			{{0, 5}, {1, 7}, {2, 1}, {3, 3}, {4, 0}, {5, 6}, {6, 4}, {7, 2}, }, 
			{{0, 1}, {1, 5}, {2, 0}, {3, 6}, {4, 3}, {5, 7}, {6, 2}, {7, 4}, }, 
			{{0, 5}, {1, 3}, {2, 1}, {3, 7}, {4, 4}, {5, 6}, {6, 0}, {7, 2}, }, 
			{{0, 4}, {1, 6}, {2, 3}, {3, 0}, {4, 2}, {5, 7}, {6, 5}, {7, 1}, }, 
			{{0, 4}, {1, 0}, {2, 3}, {3, 5}, {4, 7}, {5, 1}, {6, 6}, {7, 2}, }, 
			{{0, 6}, {1, 2}, {2, 0}, {3, 5}, {4, 7}, {5, 4}, {6, 1}, {7, 3}, }, 
			{{0, 5}, {1, 1}, {2, 6}, {3, 0}, {4, 2}, {5, 4}, {6, 7}, {7, 3}, }, 
			{{0, 3}, {1, 1}, {2, 4}, {3, 7}, {4, 5}, {5, 0}, {6, 2}, {7, 6}, }, 
			{{0, 3}, {1, 7}, {2, 4}, {3, 2}, {4, 0}, {5, 6}, {6, 1}, {7, 5}, }, 
			{{0, 1}, {1, 5}, {2, 7}, {3, 2}, {4, 0}, {5, 3}, {6, 6}, {7, 4}, }, 
			{{0, 2}, {1, 6}, {2, 1}, {3, 7}, {4, 5}, {5, 3}, {6, 0}, {7, 4}, }, 
			{{0, 3}, {1, 0}, {2, 4}, {3, 7}, {4, 5}, {5, 2}, {6, 6}, {7, 1}, }, 
			{{0, 6}, {1, 0}, {2, 2}, {3, 7}, {4, 5}, {5, 3}, {6, 1}, {7, 4}, }, 
			{{0, 6}, {1, 1}, {2, 5}, {3, 2}, {4, 0}, {5, 3}, {6, 7}, {7, 4}, }, 
			{{0, 3}, {1, 6}, {2, 4}, {3, 2}, {4, 0}, {5, 5}, {6, 7}, {7, 1}, }, 
			{{0, 4}, {1, 7}, {2, 3}, {3, 0}, {4, 2}, {5, 5}, {6, 1}, {7, 6}, }, 
			{{0, 1}, {1, 7}, {2, 5}, {3, 0}, {4, 2}, {5, 4}, {6, 6}, {7, 3}, }, 
			{{0, 1}, {1, 6}, {2, 2}, {3, 5}, {4, 7}, {5, 4}, {6, 0}, {7, 3}, }, 
			{{0, 4}, {1, 1}, {2, 3}, {3, 5}, {4, 7}, {5, 2}, {6, 0}, {7, 6}, }, 
			{{0, 2}, {1, 5}, {2, 3}, {3, 0}, {4, 7}, {5, 4}, {6, 6}, {7, 1}, }, 
			{{0, 4}, {1, 0}, {2, 7}, {3, 5}, {4, 2}, {5, 6}, {6, 1}, {7, 3}, }, 
			{{0, 6}, {1, 1}, {2, 3}, {3, 0}, {4, 7}, {5, 4}, {6, 2}, {7, 5}, }, 
			{{0, 4}, {1, 6}, {2, 1}, {3, 5}, {4, 2}, {5, 0}, {6, 7}, {7, 3}, }, 
			{{0, 5}, {1, 2}, {2, 4}, {3, 7}, {4, 0}, {5, 3}, {6, 1}, {7, 6}, }, 
			{{0, 3}, {1, 7}, {2, 0}, {3, 2}, {4, 5}, {5, 1}, {6, 6}, {7, 4}, }, 
			{{0, 1}, {1, 6}, {2, 4}, {3, 7}, {4, 0}, {5, 3}, {6, 5}, {7, 2}, }, 
			{{0, 3}, {1, 1}, {2, 6}, {3, 2}, {4, 5}, {5, 7}, {6, 0}, {7, 4}, }, 
			{{0, 5}, {1, 1}, {2, 6}, {3, 0}, {4, 3}, {5, 7}, {6, 4}, {7, 2}, }, 
			{{0, 4}, {1, 6}, {2, 0}, {3, 3}, {4, 1}, {5, 7}, {6, 5}, {7, 2}, }, 
			{{0, 5}, {1, 3}, {2, 0}, {3, 4}, {4, 7}, {5, 1}, {6, 6}, {7, 2}, }, 
			{{0, 5}, {1, 2}, {2, 0}, {3, 6}, {4, 4}, {5, 7}, {6, 1}, {7, 3}, }, 
			{{0, 2}, {1, 6}, {2, 1}, {3, 7}, {4, 4}, {5, 0}, {6, 3}, {7, 5}, }, 
			{{0, 3}, {1, 1}, {2, 7}, {3, 4}, {4, 6}, {5, 0}, {6, 2}, {7, 5}, }, 
			{{0, 2}, {1, 4}, {2, 7}, {3, 3}, {4, 0}, {5, 6}, {6, 1}, {7, 5}, }, 
			{{0, 2}, {1, 5}, {2, 7}, {3, 1}, {4, 3}, {5, 0}, {6, 6}, {7, 4}, }, 
			{{0, 3}, {1, 6}, {2, 0}, {3, 7}, {4, 4}, {5, 1}, {6, 5}, {7, 2}, }, 
			{{0, 5}, {1, 2}, {2, 0}, {3, 7}, {4, 3}, {5, 1}, {6, 6}, {7, 4}, }, 
			{{0, 5}, {1, 2}, {2, 6}, {3, 3}, {4, 0}, {5, 7}, {6, 1}, {7, 4}, }, 
			{{0, 3}, {1, 1}, {2, 6}, {3, 4}, {4, 0}, {5, 7}, {6, 5}, {7, 2}, }, 
			{{0, 4}, {1, 1}, {2, 7}, {3, 0}, {4, 3}, {5, 6}, {6, 2}, {7, 5}, }, 
			{{0, 2}, {1, 5}, {2, 7}, {3, 0}, {4, 4}, {5, 6}, {6, 1}, {7, 3}, }, 
			{{0, 2}, {1, 5}, {2, 1}, {3, 4}, {4, 7}, {5, 0}, {6, 6}, {7, 3}, }, 
			{{0, 4}, {1, 6}, {2, 1}, {3, 3}, {4, 7}, {5, 0}, {6, 2}, {7, 5}, }, 
			{{0, 5}, {1, 3}, {2, 6}, {3, 0}, {4, 7}, {5, 1}, {6, 4}, {7, 2}, }, 
			{{0, 4}, {1, 2}, {2, 0}, {3, 6}, {4, 1}, {5, 7}, {6, 5}, {7, 3}, }, 
			{{0, 5}, {1, 3}, {2, 6}, {3, 0}, {4, 7}, {5, 1}, {6, 4}, {7, 2}, }, 
			{{0, 4}, {1, 2}, {2, 0}, {3, 6}, {4, 1}, {5, 7}, {6, 5}, {7, 3}, }, 
			{{0, 2}, {1, 4}, {2, 1}, {3, 7}, {4, 0}, {5, 6}, {6, 3}, {7, 5}, }, 
			{{0, 3}, {1, 5}, {2, 7}, {3, 1}, {4, 6}, {5, 0}, {6, 2}, {7, 4}, }, 
			{{0, 2}, {1, 4}, {2, 1}, {3, 7}, {4, 0}, {5, 6}, {6, 3}, {7, 5}, }, 
			{{0, 3}, {1, 5}, {2, 7}, {3, 1}, {4, 6}, {5, 0}, {6, 2}, {7, 4}, }, 
		};
		
		public Q167() {
		}
		
		public int maiorValor(int[][] tabuleiro) {
			int maior = 0;
			for (int[][] resposta : solucoes) {
				int valor = aplicarSoma(tabuleiro, resposta);
				if (valor > maior) {
					maior = valor;
				}
			}
			return maior;
		}

		public int aplicarSoma(int[][] tabuleiro, int[][] resposta) {
			return  tabuleiro[resposta[0][0]][resposta[0][1]] +
					tabuleiro[resposta[1][0]][resposta[1][1]] +
					tabuleiro[resposta[2][0]][resposta[2][1]] +
					tabuleiro[resposta[3][0]][resposta[3][1]] +
					tabuleiro[resposta[4][0]][resposta[4][1]] +
					tabuleiro[resposta[5][0]][resposta[5][1]] +
					tabuleiro[resposta[6][0]][resposta[6][1]] +
					tabuleiro[resposta[7][0]][resposta[7][1]];
		}
		
	}
	
}
